{"ast":null,"code":"import _defineProperty from\"/home/sriram/codebase/git/git-ref-demo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/sriram/codebase/git/git-ref-demo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/sriram/codebase/git/git-ref-demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sriram/codebase/git/git-ref-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import instance from\"../api/Api\";import{apiKey}from\"../api/Apikey\";var initialState={movies:{},search:'harry',id:\"\",singleMovie:{}};export var fetchAsyncMovies=createAsyncThunk('moviesList/fetchMovies',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(val){var resp;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return instance.get(\"?apikey=\".concat(apiKey,\"&s=\").concat(val,\"&\"));case 2:resp=_context.sent;return _context.abrupt(\"return\",resp.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var fetchAsyncMoviesbyID=createAsyncThunk('moviesList/fetchMoviesID',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(val){var resp;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return instance.get(\"?apikey=\".concat(apiKey,\"&i=\").concat(val,\"&\"));case 2:resp=_context2.sent;return _context2.abrupt(\"return\",resp.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var movieSlice=createSlice({name:\"moviesList\",initialState:initialState,reducers:{searchMovies:function searchMovies(state,action){state.search=action.payload;},getId:function getId(state,action){state.id=action.payload;},getSingleMovie:function getSingleMovie(state,action){state.singleMovie=action.payload;console.log(state.singleMovie);}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchAsyncMovies.pending,function(){console.log('pending');}),_defineProperty(_extraReducers,fetchAsyncMovies.fulfilled,function(state,action){console.log('fullfilled');return _objectSpread(_objectSpread({},state),{},{movies:action.payload});}),_defineProperty(_extraReducers,fetchAsyncMovies.rejected,function(){console.log('rejected');}),_defineProperty(_extraReducers,fetchAsyncMoviesbyID.fulfilled,function(state,action){return _objectSpread(_objectSpread({},state),{},{singleMovie:action.payload});}),_extraReducers)});var _movieSlice$actions=movieSlice.actions,searchMovies=_movieSlice$actions.searchMovies,getId=_movieSlice$actions.getId,getSingleMovie=_movieSlice$actions.getSingleMovie;export{searchMovies,getId,getSingleMovie};export default movieSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","instance","apiKey","initialState","movies","search","id","singleMovie","fetchAsyncMovies","val","get","resp","data","fetchAsyncMoviesbyID","movieSlice","name","reducers","searchMovies","state","action","payload","getId","getSingleMovie","console","log","extraReducers","pending","fulfilled","rejected","actions","reducer"],"sources":["/home/sriram/codebase/git/git-ref-demo/src/features/movieSlice.js"],"sourcesContent":["import { createSlice,createAsyncThunk } from \"@reduxjs/toolkit\";\nimport instance from \"../api/Api\";\nimport { apiKey } from \"../api/Apikey\";\n\nconst initialState = {\n    movies : {},\n    search : 'harry',\n    id : \"\",\n    singleMovie : {}\n}\n\nexport const fetchAsyncMovies = createAsyncThunk('moviesList/fetchMovies' , async(val) => {\n    const resp = await instance.get(`?apikey=${apiKey}&s=${val}&`);\n    return resp.data\n})\n\nexport const fetchAsyncMoviesbyID = createAsyncThunk('moviesList/fetchMoviesID' , async(val) => {\n    const resp = await instance.get(`?apikey=${apiKey}&i=${val}&`);\n    return resp.data\n})\n\n\nexport const movieSlice = createSlice({\n\n    name:\"moviesList\",\n    initialState,\n    reducers : {\n        searchMovies : (state,action) =>{\n            state.search = action.payload\n        },\n        getId : (state,action) =>{\n            state.id = action.payload\n        },\n        getSingleMovie : (state,action) =>{\n            state.singleMovie = action.payload\n            console.log(state.singleMovie);\n        }\n    },\n    extraReducers : {\n        [fetchAsyncMovies.pending] : ()=>{\n            console.log('pending');\n        },\n        [fetchAsyncMovies.fulfilled] : (state,action) =>{\n            console.log('fullfilled');\n            return {...state, movies : action.payload}\n        },\n        [fetchAsyncMovies.rejected] : () =>{\n            console.log('rejected');\n        },\n        [fetchAsyncMoviesbyID.fulfilled] : (state,action) =>{\n            return {...state , singleMovie : action.payload}\n        }\n   \n    }\n})\n\n\nexport const { searchMovies,getId,getSingleMovie } = movieSlice.actions\n\nexport default movieSlice.reducer"],"mappings":"ohBAAA,OAASA,WAAW,CAACC,gBAAgB,KAAQ,kBAAkB,CAC/D,MAAOC,SAAQ,KAAM,YAAY,CACjC,OAASC,MAAM,KAAQ,eAAe,CAEtC,GAAMC,aAAY,CAAG,CACjBC,MAAM,CAAG,CAAC,CAAC,CACXC,MAAM,CAAG,OAAO,CAChBC,EAAE,CAAG,EAAE,CACPC,WAAW,CAAG,CAAC,CACnB,CAAC,CAED,MAAO,IAAMC,iBAAgB,CAAGR,gBAAgB,CAAC,wBAAwB,4FAAG,iBAAMS,GAAG,mJAC9DR,SAAQ,CAACS,GAAG,mBAAYR,MAAM,eAAMO,GAAG,MAAI,QAAxDE,IAAI,+CACHA,IAAI,CAACC,IAAI,wDACnB,+DAAC,CAEF,MAAO,IAAMC,qBAAoB,CAAGb,gBAAgB,CAAC,0BAA0B,6FAAG,kBAAMS,GAAG,wJACpER,SAAQ,CAACS,GAAG,mBAAYR,MAAM,eAAMO,GAAG,MAAI,QAAxDE,IAAI,iDACHA,IAAI,CAACC,IAAI,0DACnB,iEAAC,CAGF,MAAO,IAAME,WAAU,CAAGf,WAAW,CAAC,CAElCgB,IAAI,CAAC,YAAY,CACjBZ,YAAY,CAAZA,YAAY,CACZa,QAAQ,CAAG,CACPC,YAAY,CAAG,sBAACC,KAAK,CAACC,MAAM,CAAI,CAC5BD,KAAK,CAACb,MAAM,CAAGc,MAAM,CAACC,OAAO,CACjC,CAAC,CACDC,KAAK,CAAG,eAACH,KAAK,CAACC,MAAM,CAAI,CACrBD,KAAK,CAACZ,EAAE,CAAGa,MAAM,CAACC,OAAO,CAC7B,CAAC,CACDE,cAAc,CAAG,wBAACJ,KAAK,CAACC,MAAM,CAAI,CAC9BD,KAAK,CAACX,WAAW,CAAGY,MAAM,CAACC,OAAO,CAClCG,OAAO,CAACC,GAAG,CAACN,KAAK,CAACX,WAAW,CAAC,CAClC,CACJ,CAAC,CACDkB,aAAa,mDACRjB,gBAAgB,CAACkB,OAAO,CAAI,UAAI,CAC7BH,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CAC1B,CAAC,iCACAhB,gBAAgB,CAACmB,SAAS,CAAI,SAACT,KAAK,CAACC,MAAM,CAAI,CAC5CI,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC,CACzB,sCAAWN,KAAK,MAAEd,MAAM,CAAGe,MAAM,CAACC,OAAO,GAC7C,CAAC,iCACAZ,gBAAgB,CAACoB,QAAQ,CAAI,UAAK,CAC/BL,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CAC3B,CAAC,iCACAX,oBAAoB,CAACc,SAAS,CAAI,SAACT,KAAK,CAACC,MAAM,CAAI,CAChD,sCAAWD,KAAK,MAAGX,WAAW,CAAGY,MAAM,CAACC,OAAO,GACnD,CAAC,iBAGT,CAAC,CAAC,CAGK,wBAA8CN,UAAU,CAACe,OAAO,CAAxDZ,YAAY,qBAAZA,YAAY,CAACI,KAAK,qBAALA,KAAK,CAACC,cAAc,qBAAdA,cAAc,CAAuB,0CAEvE,cAAeR,WAAU,CAACgB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}